<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>vue2.0笔记(二)——事件 | 清澈的风</title>

  
  <meta name="author" content="windy">
  

  
  <meta name="description" content="today is windy">
  

  
  
  <meta name="keywords" content="vue,v-on">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="vue2.0笔记(二)——事件"/>

  <meta property="og:site_name" content="清澈的风"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="清澈的风" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

  <script type='text/javascript'>
      var _vds = _vds || [];
      window._vds = _vds;
      (function(){
        _vds.push(['setAccountId', '98f32673bc5b1155']);
        (function() {
          var vds = document.createElement('script');
          vds.type='text/javascript';
          vds.async = true;
          vds.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'assets.growingio.com/vds.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(vds, s);
        })();
      })();
  </script>
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">清澈的风</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>vue2.0笔记(二)——事件</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/02/14/vue-2/" rel="bookmark">
        <time class="entry-date published" datetime="2017-02-14T03:03:33.000Z">
          2017-02-14
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h3 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a><code>v-on</code></h3><p><code>v-on</code>用于事件绑定，<code>v-on:</code>冒号后面可以加任意的原生js事件如<code>click</code>/<code>mouseover</code>/<code>dblclick</code>等,<code>v-on:</code>的简写是<code>@</code>,如<code>v-on:click=&#39;show()&#39;</code>可以简写为<code>@click=&#39;show()&#39;</code><br>除了方法名外，也可以直接写脚本语句如<code>@click=&quot;alert(1)&quot;</code></p>
<a id="more"></a>
<p><strong>点击添加列表条目</strong><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"item in arr"</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"add()"</span>&gt;</span>add One<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>点击时的<code>add</code>方法必须写在<code>methods</code>里<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> Vue(&#123;</div><div class="line">            <span class="attr">el</span>: <span class="string">"#app"</span>,</div><div class="line">            <span class="attr">data</span>: &#123;</div><div class="line">                <span class="attr">arr</span>: [<span class="string">'apple'</span>, <span class="string">'pear'</span>, <span class="string">'grape'</span>]</div><div class="line">            &#125;,</div><div class="line">            <span class="attr">methods</span>: &#123;</div><div class="line">                <span class="attr">add</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                    <span class="keyword">this</span>.arr.push(<span class="string">'strawberry'</span>)</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;)</div></pre></td></tr></table></figure></p>
<p>除了鼠标事件之外，也可用于键盘事件如<code>keydown</code>/<code>keyup</code>,在键盘事件的基础上可以添加<code>keyCode</code>来绑定确定的键盘事件,常用的如<code>up</code>,<code>down</code>,<code>left</code>,<code>right</code>,<code>enter</code>,<code>delete</code> </p>
<p><strong>回车添加条目，delete键删除条目</strong><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> @<span class="attr">keydown.enter</span>=<span class="string">"add()"</span> @<span class="attr">keydown.delete</span>=<span class="string">"minus()"</span>&gt;</span>add One<span class="tag">&lt;/<span class="name">input</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">methods: &#123;</div><div class="line">           <span class="attr">add</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                   <span class="keyword">this</span>.arr.push(<span class="string">'strawberry'</span>)</div><div class="line">               &#125;,</div><div class="line">           <span class="attr">minus</span>:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">                   <span class="keyword">this</span>.arr.pop();</div><div class="line">               &#125;</div><div class="line">           &#125;</div></pre></td></tr></table></figure>
<p><strong>确定键入的keyCode</strong><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> @<span class="attr">keydown</span>=<span class="string">"showCode($event)"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>你键入的keyCode 是&#123;&#123;myKeyCode&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">data: &#123;<span class="attr">myKeyCode</span>:<span class="string">''</span>&#125;,</div><div class="line"><span class="attr">methods</span>:&#123;</div><div class="line">    <span class="attr">showCode</span>:<span class="function"><span class="keyword">function</span> (<span class="params">$event</span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.myKeyCode=$event.keyCode;</div><div class="line">            &#125;</div><div class="line">        &#125;</div></pre></td></tr></table></figure>
<p><em><code>$event</code>可以写成<code>event</code>,但写<code>e</code>就会报错</em></p>
<p><strong>阻止事件冒泡</strong><br>用修饰符<code>.stop</code><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span> @<span class="attr">click</span>=<span class="string">"show($event)"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> @<span class="attr">click.stop</span>=<span class="string">"show($event)"</span>&gt;</span>click<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">methods:&#123;</div><div class="line">    <span class="attr">show</span>:<span class="function"><span class="keyword">function</span> (<span class="params">$event</span>) </span>&#123;</div><div class="line">        alert($event.clientY);</div><div class="line">        <span class="comment">//$event.cancelBubble=true;</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>也可以使用<code>$event.cancelBubble=true;</code>来阻止事件冒泡</p>
<p><strong>阻止默认行为</strong><br>用修饰符<code>.prevent</code><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> @<span class="attr">contextmenu.prevent</span>=<span class="string">"show($event)"</span>&gt;</span>右键获取目前clientX<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">show:<span class="function"><span class="keyword">function</span> (<span class="params">$event</span>) </span>&#123;</div><div class="line">        alert($event.clientX);</div><div class="line">        <span class="comment">//$event.preventDefault();</span></div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>也可以使用<code>$event.preventDefault()</code>来阻止如出现右键菜单等这样的默认事件</p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/vue/">vue</a><a href="/tags/v-on/">v-on</a>
    </span>
    

    </div>

    
  </div>
</article>

  <script src="https://commento.now.sh/assets/commento.js"></script>
<script>
        Commento.init({
            serverUrl: "https://commento.now.sh",
            honeypot: true
        })
</script>

<div id="commento"></div>
<style>
ul{
	    list-style: disc!important;
}
h1, h2, h3, h4, h5, h6{
	font-weight:bold!important;
	line-height: normal!important;

}
h3{
	font-size: 1.17em!important;
}
article .article-title{
	font-size: 2.4rem!important;
}
a.active, a:active, a:focus, a:hover{
	color:#f03838!important;
}
body{
	font-family: "Segoe UI", "Lucida Grande", Helvetica, "Microsoft YaHei", FreeSans, Arimo, "Droid Sans", "wenquanyi micro hei", "Hiragino Sans GB", "Hiragino Sans GB W3", Arial, sans-serif!important;
}
</style>	



    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2017 windy
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>